# Logging Configuration
CONFIG_LOG=y
CONFIG_LOG_MODE_IMMEDIATE=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_BACKEND_UART=y
CONFIG_LOG_BACKEND_UART_AUTOSTART=y

# Random number generation
CONFIG_ENTROPY_STM32_RNG=y
CONFIG_TEST_RANDOM_GENERATOR=y
CONFIG_MBEDTLS=y
CONFIG_ENTROPY_GENERATOR=y 
CONFIG_ENTROPY_DEVICE_RANDOM_GENERATOR=y

# C Library
CONFIG_NEWLIB_LIBC=y

# Memory Configuration - Large stacks for secp256k1 and USB
CONFIG_MAIN_STACK_SIZE=32768
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=16384
CONFIG_COMMON_LIBC_MALLOC_ARENA_SIZE=32768
CONFIG_HEAP_MEM_POOL_SIZE=32768

# Additional configurations for stability
CONFIG_THREAD_STACK_INFO=y
CONFIG_THREAD_MONITOR=y
CONFIG_ISR_STACK_SIZE=4096

# Basic UART for logging
CONFIG_UART_CONSOLE=y
CONFIG_CONSOLE=y
CONFIG_UART_LINE_CTRL=y
CONFIG_UART_INTERRUPT_DRIVEN=y
CONFIG_UART_USE_RUNTIME_CONFIGURE=y
CONFIG_LOG_PRINTK=y
CONFIG_STDOUT_CONSOLE=y

# Flash storage
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y

# USB Device Configuration
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_HID=y
CONFIG_USB_DEVICE_PID=0x100
CONFIG_USB_DEVICE_VID=0x2FE3
CONFIG_USB_DEVICE_PRODUCT="FROST Signer"
CONFIG_USB_DEVICE_MANUFACTURER="Nordic Semiconductor"
CONFIG_USB_DEVICE_INITIALIZE_AT_BOOT=y
CONFIG_USB_DEVICE_SOF=y
CONFIG_USB_HID_REPORTS=2

# Threading and timing
CONFIG_TIMESLICING=y
CONFIG_SYS_CLOCK_EXISTS=y

# Additional kernel configurations
CONFIG_KERNEL_MEM_POOL=y